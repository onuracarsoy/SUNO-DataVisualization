@model DataVisualizationUI.Dtos.UpdateProductDto

@{
    ViewData["Title"] = "Ürün Düzenle";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Page Info  -->
<div class="mb-8 pl-1">
    <h1 class="text-3xl font-bold text-white">Ürün Düzenle</h1>
    <p class="text-gray-400 mt-1 text-sm">Ürünleri bu ekrandan düzenleyebilirsiniz.</p>
</div>

<!-- Form Card -->
<div class="bg-dark-800 rounded-xl border border-dark-700 shadow-xl p-8 max-w-4xl mx-auto">

    <form asp-controller="Product" asp-action="UpdateProduct" method="post">
        <input type="hidden" asp-for="ProductId" />
        
        <!-- Validation Summary -->
        <div asp-validation-summary="ModelOnly" class="mb-4 p-4 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm"></div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <!-- Product Name -->
            <div class="md:col-span-2">
                <label asp-for="ProductName" class="block text-sm font-medium text-gray-400 mb-2"></label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                        <i class="fa-solid fa-box"></i>
                    </span>
                    <input type="text" asp-for="ProductName" class="w-full bg-dark-900 border border-dark-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all" placeholder="Örn: Kablosuz Kulaklık" />
                </div>
                <span asp-validation-for="ProductName" class="text-red-400 text-xs mt-1 block"></span>
            </div>

            <!-- Description -->
            <div class="md:col-span-2">
                <label asp-for="ProductDescription" class="block text-sm font-medium text-gray-400 mb-2"></label>
                <div class="relative">
                    <span class="absolute top-3 left-0 pl-3 flex items-start text-gray-500">
                        <i class="fa-solid fa-align-left"></i>
                    </span>
                    <textarea asp-for="ProductDescription" rows="3" class="w-full bg-dark-900 border border-dark-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all" placeholder="Ürün özelliklerini buraya yazın..."></textarea>
                </div>
                <span asp-validation-for="ProductDescription" class="text-red-400 text-xs mt-1 block"></span>
            </div>

            <!-- Price -->
            <div>
                <label asp-for="UnitPrice" class="block text-sm font-medium text-gray-400 mb-2"></label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                        <i class="fa-solid fa-tag"></i>
                    </span>
                    <input type="number" asp-for="UnitPrice" step="0.01" class="w-full bg-dark-900 border border-dark-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all" placeholder="0.00" />
                </div>
                <span asp-validation-for="UnitPrice" class="text-red-400 text-xs mt-1 block"></span>
            </div>

            <!-- Stock -->
            <div>
                <label asp-for="StockQuantity" class="block text-sm font-medium text-gray-400 mb-2"></label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                        <i class="fa-solid fa-layer-group"></i>
                    </span>
                    <input type="number" asp-for="StockQuantity" class="w-full bg-dark-900 border border-dark-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all" placeholder="0" />
                </div>
                <span asp-validation-for="StockQuantity" class="text-red-400 text-xs mt-1 block"></span>
            </div>

            <!-- Category -->
            <div>
                <label asp-for="CategoryId" class="block text-sm font-medium text-gray-400 mb-2"></label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                        <i class="fa-solid fa-list"></i>
                    </span>
                    <select asp-for="CategoryId" class="w-full bg-dark-900 border border-dark-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all appearance-none">
                        <option value="">Kategori Seçin</option>
                        @if (ViewBag.Categories != null)
                        {
                            foreach (var cat in ViewBag.Categories as List<DataVisualizationUI.Entities.Category>)
                            {
                                <option value="@cat.CategoryId">@cat.CategoryName</option>
                            }
                        }
                    </select>
                    <span class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-500">
                        <i class="fa-solid fa-chevron-down text-xs"></i>
                    </span>
                </div>
                <span asp-validation-for="CategoryId" class="text-red-400 text-xs mt-1 block"></span>
            </div>

            <!-- Country -->
            <div>
                <label asp-for="CountryOfOrigin" class="block text-sm font-medium text-gray-400 mb-2"></label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                        <i class="fa-solid fa-globe"></i>
                    </span>
                    <input type="text" asp-for="CountryOfOrigin" class="w-full bg-dark-900 border border-dark-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all" placeholder="Örn: Türkiye" />
                </div>
                <span asp-validation-for="CountryOfOrigin" class="text-red-400 text-xs mt-1 block"></span>
            </div>

            <!-- Image URL -->
            <div class="md:col-span-2">
                <label asp-for="ProductImageUrl" class="block text-sm font-medium text-gray-400 mb-2"></label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                        <i class="fa-solid fa-image"></i>
                    </span>
                    <input type="text" asp-for="ProductImageUrl" class="w-full bg-dark-900 border border-dark-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all" placeholder="https://..." />
                </div>
                <span asp-validation-for="ProductImageUrl" class="text-red-400 text-xs mt-1 block"></span>
            </div>

        </div>

        <!-- Action Buttons -->
        <div class="flex items-center gap-4 mt-8 border-t border-dark-700 pt-6">
            <button type="submit" class="bg-primary hover:bg-indigo-600 text-white font-medium py-2.5 px-6 rounded-lg shadow-lg shadow-indigo-500/30 transform active:scale-95 transition-all flex items-center gap-2">
                <i class="fa-solid fa-check"></i> Güncelle
            </button>
            <a href="/Product/ProductList" class="text-gray-400 hover:text-white hover:bg-dark-700 font-medium py-2.5 px-6 rounded-lg transition-colors">
                İptal
            </a>
        </div>

    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
